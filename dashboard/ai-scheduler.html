<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IA Scheduler - ReservasPro</title>
    <link rel="stylesheet" href="../css/mobile-optimization.css">
    <style>
        .ai-container {
            max-width: 1400px;
            margin: 0 auto;
        }
        
        .ai-header {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
            text-align: center;
        }
        
        .ai-title {
            color: white;
            font-size: 2rem;
            font-weight: bold;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 1rem;
        }
        
        .ai-subtitle {
            color: rgba(255, 255, 255, 0.8);
            font-size: 1.1rem;
            margin-bottom: 1.5rem;
        }
        
        .ai-status {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.75rem 1.5rem;
            border-radius: 25px;
            font-weight: 600;
            background: rgba(16, 185, 129, 0.2);
            color: #10b981;
            border: 1px solid rgba(16, 185, 129, 0.3);
        }
        
        .ai-features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-bottom: 2rem;
        }
        
        .feature-card {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            padding: 2rem;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: all 0.3s;
        }
        
        .feature-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 40px rgba(0,0,0,0.15);
        }
        
        .feature-card h3 {
            color: white;
            font-size: 1.5rem;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .feature-card p {
            color: rgba(255, 255, 255, 0.8);
            margin-bottom: 1.5rem;
            line-height: 1.5;
        }
        
        .feature-actions {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
        }
        
        .btn-ai {
            background: linear-gradient(135deg, #1e40af, #3b82f6);
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .btn-ai:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(30, 64, 175, 0.3);
        }
        
        .btn-ai.secondary {
            background: rgba(107, 114, 128, 0.8);
        }
        
        .btn-ai.success {
            background: linear-gradient(135deg, #10b981, #059669);
        }
        
        .btn-ai.warning {
            background: linear-gradient(135deg, #f59e0b, #d97706);
        }
        
        .ai-insights {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
        }
        
        .insights-title {
            color: white;
            font-size: 1.5rem;
            font-weight: bold;
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .insights-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
        }
        
        .insight-card {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 1.5rem;
            border-left: 4px solid #1e40af;
        }
        
        .insight-card.warning {
            border-left-color: #f59e0b;
        }
        
        .insight-card.success {
            border-left-color: #10b981;
        }
        
        .insight-card.error {
            border-left-color: #dc2626;
        }
        
        .insight-title {
            color: white;
            font-weight: 600;
            margin-bottom: 0.5rem;
            font-size: 1.1rem;
        }
        
        .insight-description {
            color: rgba(255, 255, 255, 0.8);
            font-size: 0.875rem;
            line-height: 1.5;
            margin-bottom: 1rem;
        }
        
        .insight-action {
            margin-top: 1rem;
        }
        
        .insight-btn {
            background: #1e40af;
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.875rem;
            font-weight: 500;
        }
        
        .insight-btn:hover {
            background: #1d4ed8;
        }
        
        .ai-analysis {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
        }
        
        .analysis-title {
            color: white;
            font-size: 1.5rem;
            font-weight: bold;
            margin-bottom: 1.5rem;
        }
        
        .analysis-chart {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 2rem;
            margin-bottom: 1.5rem;
            min-height: 300px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: rgba(255, 255, 255, 0.6);
            font-size: 1.1rem;
        }
        
        .analysis-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
        }
        
        .stat-item {
            background: rgba(255, 255, 255, 0.1);
            padding: 1rem;
            border-radius: 10px;
            text-align: center;
        }
        
        .stat-value {
            color: white;
            font-size: 2rem;
            font-weight: bold;
            margin-bottom: 0.5rem;
        }
        
        .stat-label {
            color: rgba(255, 255, 255, 0.8);
            font-size: 0.875rem;
        }
        
        .ai-recommendations {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
        }
        
        .recommendations-title {
            color: white;
            font-size: 1.5rem;
            font-weight: bold;
            margin-bottom: 1.5rem;
        }
        
        .recommendation-list {
            list-style: none;
            padding: 0;
        }
        
        .recommendation-item {
            background: rgba(255, 255, 255, 0.1);
            padding: 1.5rem;
            border-radius: 12px;
            margin-bottom: 1rem;
            border-left: 4px solid #10b981;
        }
        
        .recommendation-item.warning {
            border-left-color: #f59e0b;
        }
        
        .recommendation-item.error {
            border-left-color: #dc2626;
        }
        
        .recommendation-title {
            color: white;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }
        
        .recommendation-description {
            color: rgba(255, 255, 255, 0.8);
            font-size: 0.875rem;
            line-height: 1.5;
            margin-bottom: 1rem;
        }
        
        .recommendation-impact {
            color: #10b981;
            font-size: 0.875rem;
            font-weight: 600;
        }
        
        .ai-settings {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
        }
        
        .settings-title {
            color: white;
            font-size: 1.5rem;
            font-weight: bold;
            margin-bottom: 1.5rem;
        }
        
        .settings-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
        }
        
        .setting-item {
            background: rgba(255, 255, 255, 0.1);
            padding: 1.5rem;
            border-radius: 15px;
        }
        
        .setting-item h4 {
            color: white;
            margin-bottom: 1rem;
            font-size: 1.1rem;
        }
        
        .setting-item p {
            color: rgba(255, 255, 255, 0.8);
            font-size: 0.875rem;
            margin-bottom: 1rem;
            line-height: 1.5;
        }
        
        .setting-control {
            display: flex;
            align-items: center;
            gap: 1rem;
            flex-wrap: wrap;
        }
        
        .setting-control select {
            background: rgba(255, 255, 255, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.3);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 8px;
            font-size: 0.875rem;
        }
        
        .setting-control select option {
            background: #374151;
            color: white;
        }
        
        .setting-control input[type="checkbox"] {
            width: 20px;
            height: 20px;
            accent-color: #1e40af;
        }
        
        .setting-control label {
            color: white;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .loading-spinner {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 1s ease-in-out infinite;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        @media (max-width: 768px) {
            .ai-features {
                grid-template-columns: 1fr;
            }
            
            .insights-grid {
                grid-template-columns: 1fr;
            }
            
            .analysis-stats {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .settings-grid {
                grid-template-columns: 1fr;
            }
            
            .feature-actions {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <header class="header">
        <a href="index.html" class="logo">🤖 ReservasPro</a>
        <span style="color: rgba(255, 255, 255, 0.8);">IA Scheduler</span>
    </header>
    
    <div class="container">
        <div class="ai-container">
            <!-- Header IA -->
            <div class="ai-header">
                <h1 class="ai-title">
                    🤖 IA Scheduler
                    <span class="ai-status">
                        <span>✅</span>
                        <span>Activo</span>
                    </span>
                </h1>
                <p class="ai-subtitle">Optimización inteligente de horarios y patrones de reservas</p>
            </div>
            
            <!-- Características de IA -->
            <div class="ai-features">
                <div class="feature-card">
                    <h3>📊 Análisis de Patrones</h3>
                    <p>La IA analiza tus patrones de reservas para identificar tendencias, horarios pico y oportunidades de optimización.</p>
                    <div class="feature-actions">
                        <button class="btn-ai" onclick="analyzePatterns()">🔍 Analizar</button>
                        <button class="btn-ai secondary" onclick="viewPatterns()">📈 Ver Patrones</button>
                    </div>
                </div>
                
                <div class="feature-card">
                    <h3>⏰ Optimización de Horarios</h3>
                    <p>Sugiere horarios óptimos basados en demanda histórica, preferencias de clientes y eficiencia operativa.</p>
                    <div class="feature-actions">
                        <button class="btn-ai" onclick="optimizeSchedule()">⚡ Optimizar</button>
                        <button class="btn-ai secondary" onclick="viewOptimization()">📋 Ver Sugerencias</button>
                    </div>
                </div>
                
                <div class="feature-card">
                    <h3>🎯 Predicción de Demanda</h3>
                    <p>Predice la demanda futura basándose en datos históricos, estacionalidad y eventos especiales.</p>
                    <div class="feature-actions">
                        <button class="btn-ai" onclick="predictDemand()">🔮 Predecir</button>
                        <button class="btn-ai secondary" onclick="viewPredictions()">📊 Ver Predicciones</button>
                    </div>
                </div>
                
                <div class="feature-card">
                    <h3>💰 Optimización de Precios</h3>
                    <p>Sugiere precios dinámicos basados en demanda, competencia y valor percibido por el cliente.</p>
                    <div class="feature-actions">
                        <button class="btn-ai" onclick="optimizePricing()">💎 Optimizar</button>
                        <button class="btn-ai secondary" onclick="viewPricing()">�� Ver Precios</button>
                    </div>
                </div>
                
                <div class="feature-card">
                    <h3>👥 Segmentación de Clientes</h3>
                    <p>Identifica diferentes segmentos de clientes y personaliza estrategias de marketing y servicio.</p>
                    <div class="feature-actions">
                        <button class="btn-ai" onclick="segmentClients()">👥 Segmentar</button>
                        <button class="btn-ai secondary" onclick="viewSegments()">📊 Ver Segmentos</button>
                    </div>
                </div>
                
                <div class="feature-card">
                    <h3>🔄 Auto-Programación</h3>
                    <p>Programa automáticamente horarios óptimos basándose en patrones aprendidos y restricciones del negocio.</p>
                    <div class="feature-actions">
                        <button class="btn-ai success" onclick="enableAutoScheduling()">🚀 Activar</button>
                        <button class="btn-ai secondary" onclick="configureAutoScheduling()">⚙️ Configurar</button>
                    </div>
                </div>
            </div>
            
            <!-- Insights de IA -->
            <div class="ai-insights">
                <h2 class="insights-title">💡 Insights Inteligentes</h2>
                <div class="insights-grid">
                    <div class="insight-card success">
                        <div class="insight-title">🎯 Oportunidad de Crecimiento</div>
                        <div class="insight-description">
                            Los viernes entre 14:00-16:00 tienen una demanda del 85% pero solo ocupas el 60% de la capacidad. 
                            Considera aumentar la disponibilidad en este horario.
                        </div>
                        <div class="insight-action">
                            <button class="insight-btn" onclick="implementSuggestion('growth')">Implementar</button>
                        </div>
                    </div>
                    
                    <div class="insight-card warning">
                        <div class="insight-title">⚠️ Horario Subutilizado</div>
                        <div class="insight-description">
                            Los lunes y martes por la mañana tienen solo un 30% de ocupación. 
                            Perfecto para ofertas especiales o servicios de mantenimiento.
                        </div>
                        <div class="insight-action">
                            <button class="insight-btn" onclick="implementSuggestion('underutilized')">Crear Oferta</button>
                        </div>
                    </div>
                    
                    <div class="insight-card">
                        <div class="insight-title">📊 Patrón Estacional</div>
                        <div class="insight-description">
                            Detectamos un aumento del 40% en reservas de "Mechas" durante los meses de verano. 
                            Considera promocionar este servicio en primavera.
                        </div>
                        <div class="insight-action">
                            <button class="insight-btn" onclick="implementSuggestion('seasonal')">Planificar</button>
                        </div>
                    </div>
                    
                    <div class="insight-card error">
                        <div class="insight-title">❌ Tasa de Cancelación Alta</div>
                        <div class="insight-description">
                            Las reservas de "Tratamiento" tienen una tasa de cancelación del 25%. 
                            Revisa el proceso de confirmación y considera recordatorios automáticos.
                        </div>
                        <div class="insight-action">
                            <button class="insight-btn" onclick="implementSuggestion('cancellation')">Mejorar</button>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Análisis de IA -->
            <div class="ai-analysis">
                <h2 class="analysis-title">📊 Análisis de IA</h2>
                <div class="analysis-chart" id="analysisChart">
                    <div style="text-align: center;">
                        <div style="font-size: 3rem; margin-bottom: 1rem;">📈</div>
                        <div>Gráfico de Análisis de Patrones</div>
                        <div style="font-size: 0.9rem; margin-top: 0.5rem; opacity: 0.8;">Haz clic en "Analizar" para ver el análisis completo</div>
                    </div>
                </div>
                <div class="analysis-stats">
                    <div class="stat-item">
                        <div class="stat-value" id="efficiencyScore">87%</div>
                        <div class="stat-label">Eficiencia</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="utilizationRate">72%</div>
                        <div class="stat-label">Utilización</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="satisfactionScore">4.8</div>
                        <div class="stat-label">Satisfacción</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="revenueGrowth">+23%</div>
                        <div class="stat-label">Crecimiento</div>
                    </div>
                </div>
            </div>
            
            <!-- Recomendaciones -->
            <div class="ai-recommendations">
                <h2 class="recommendations-title">🎯 Recomendaciones de IA</h2>
                <ul class="recommendation-list" id="recommendationsList">
                    <!-- Generado dinámicamente -->
                </ul>
            </div>
            
            <!-- Configuración de IA -->
            <div class="ai-settings">
                <h2 class="settings-title">⚙️ Configuración de IA</h2>
                <div class="settings-grid">
                    <div class="setting-item">
                        <h4>🧠 Nivel de IA</h4>
                        <p>Configura qué tan agresiva debe ser la optimización automática</p>
                        <div class="setting-control">
                            <select id="aiLevel" onchange="updateAILevel()">
                                <option value="conservative">Conservador</option>
                                <option value="balanced" selected>Equilibrado</option>
                                <option value="aggressive">Agresivo</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="setting-item">
                        <h4>📊 Frecuencia de Análisis</h4>
                        <p>Con qué frecuencia debe la IA analizar y optimizar</p>
                        <div class="setting-control">
                            <select id="analysisFrequency" onchange="updateAnalysisFrequency()">
                                <option value="daily">Diario</option>
                                <option value="weekly" selected>Semanal</option>
                                <option value="monthly">Mensual</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="setting-item">
                        <h4>🎯 Objetivos de Optimización</h4>
                        <p>Selecciona qué aspectos quieres que optimice la IA</p>
                        <div class="setting-control">
                            <label>
                                <input type="checkbox" id="optimizeRevenue" checked onchange="updateOptimizationGoals()">
                                Maximizar ingresos
                            </label>
                        </div>
                        <div class="setting-control">
                            <label>
                                <input type="checkbox" id="optimizeEfficiency" checked onchange="updateOptimizationGoals()">
                                Optimizar eficiencia
                            </label>
                        </div>
                        <div class="setting-control">
                            <label>
                                <input type="checkbox" id="optimizeSatisfaction" checked onchange="updateOptimizationGoals()">
                                Mejorar satisfacción
                            </label>
                        </div>
                    </div>
                    
                    <div class="setting-item">
                        <h4>🔔 Notificaciones de IA</h4>
                        <p>Configura cuándo quieres recibir notificaciones de la IA</p>
                        <div class="setting-control">
                            <label>
                                <input type="checkbox" id="aiInsights" checked onchange="updateAINotifications()">
                                Insights importantes
                            </label>
                        </div>
                        <div class="setting-control">
                            <label>
                                <input type="checkbox" id="aiRecommendations" checked onchange="updateAINotifications()">
                                Recomendaciones
                            </label>
                        </div>
                        <div class="setting-control">
                            <label>
                                <input type="checkbox" id="aiAlerts" onchange="updateAINotifications()">
                                Alertas críticas
                            </label>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        let aiSettings = {
            level: 'balanced',
            frequency: 'weekly',
            goals: {
                revenue: true,
                efficiency: true,
                satisfaction: true
            },
            notifications: {
                insights: true,
                recommendations: true,
                alerts: false
            }
        };
        
        let recommendations = [
            {
                title: "Aumentar disponibilidad en viernes tarde",
                description: "Los viernes entre 14:00-16:00 tienen alta demanda pero baja ocupación. Aumentar la disponibilidad podría generar un 15% más de ingresos.",
                impact: "Impacto estimado: +€450/mes",
                type: "success"
            },
            {
                title: "Crear oferta especial para lunes y martes",
                description: "Estos días tienen baja ocupación. Una oferta del 20% de descuento podría aumentar la ocupación al 60%.",
                impact: "Impacto estimado: +€280/mes",
                type: "warning"
            },
            {
                title: "Implementar precios dinámicos para mechas",
                description: "Las mechas tienen alta demanda en verano. Aumentar el precio un 10% en temporada alta podría generar más ingresos.",
                impact: "Impacto estimado: +€320/mes",
                type: "success"
            },
            {
                title: "Mejorar proceso de confirmación de tratamientos",
                description: "Los tratamientos tienen alta tasa de cancelación. Implementar recordatorios automáticos podría reducirla al 10%.",
                impact: "Impacto estimado: +€180/mes",
                type: "error"
            }
        ];
        
        // Cargar configuración al iniciar
        document.addEventListener('DOMContentLoaded', function() {
            loadAISettings();
            loadRecommendations();
        });
        
        function loadAISettings() {
            const savedSettings = localStorage.getItem('aiSettings');
            if (savedSettings) {
                aiSettings = { ...aiSettings, ...JSON.parse(savedSettings) };
            }
            
            // Aplicar configuración a los controles
            document.getElementById('aiLevel').value = aiSettings.level;
            document.getElementById('analysisFrequency').value = aiSettings.frequency;
            document.getElementById('optimizeRevenue').checked = aiSettings.goals.revenue;
            document.getElementById('optimizeEfficiency').checked = aiSettings.goals.efficiency;
            document.getElementById('optimizeSatisfaction').checked = aiSettings.goals.satisfaction;
            document.getElementById('aiInsights').checked = aiSettings.notifications.insights;
            document.getElementById('aiRecommendations').checked = aiSettings.notifications.recommendations;
            document.getElementById('aiAlerts').checked = aiSettings.notifications.alerts;
        }
        
        function loadRecommendations() {
            const recommendationsList = document.getElementById('recommendationsList');
            recommendationsList.innerHTML = '';
            
            recommendations.forEach((rec, index) => {
                const recEl = document.createElement('li');
                recEl.className = `recommendation-item ${rec.type}`;
                recEl.innerHTML = `
                    <div class="recommendation-title">${rec.title}</div>
                    <div class="recommendation-description">${rec.description}</div>
                    <div class="recommendation-impact">${rec.impact}</div>
                `;
                recommendationsList.appendChild(recEl);
            });
        }
        
        function analyzePatterns() {
            showLoading('analysisChart', 'Analizando patrones...');
            
            setTimeout(() => {
                document.getElementById('analysisChart').innerHTML = `
                    <div style="text-align: center;">
                        <div style="font-size: 3rem; margin-bottom: 1rem;">📊</div>
                        <div>Análisis completado</div>
                        <div style="font-size: 0.9rem; margin-top: 0.5rem; opacity: 0.8;">Se identificaron 12 patrones y 8 oportunidades de optimización</div>
                    </div>
                `;
                showNotification('Análisis de patrones completado', 'success');
            }, 3000);
        }
        
        function optimizeSchedule() {
            showNotification('Optimizando horarios...', 'info');
            
            setTimeout(() => {
                showNotification('Horarios optimizados. Se generaron 5 nuevas sugerencias.', 'success');
            }, 2000);
        }
        
        function predictDemand() {
            showNotification('Generando predicciones de demanda...', 'info');
            
            setTimeout(() => {
                showNotification('Predicciones generadas para los próximos 30 días', 'success');
            }, 2500);
        }
        
        function optimizePricing() {
            showNotification('Optimizando precios dinámicos...', 'info');
            
            setTimeout(() => {
                showNotification('Precios optimizados. Se sugieren 3 ajustes de precios.', 'success');
            }, 2000);
        }
        
        function segmentClients() {
            showNotification('Analizando segmentos de clientes...', 'info');
            
            setTimeout(() => {
                showNotification('Se identificaron 4 segmentos de clientes', 'success');
            }, 2000);
        }
        
        function enableAutoScheduling() {
            if (confirm('¿Activar la programación automática? La IA comenzará a optimizar tu agenda automáticamente.')) {
                showNotification('Programación automática activada', 'success');
            }
        }
        
        function configureAutoScheduling() {
            showNotification('Abriendo configuración de programación automática...', 'info');
        }
        
        function implementSuggestion(type) {
            const suggestions = {
                growth: 'Implementando sugerencia de crecimiento...',
                underutilized: 'Creando oferta especial...',
                seasonal: 'Planificando estrategia estacional...',
                cancellation: 'Mejorando proceso de confirmación...'
            };
            
            showNotification(suggestions[type] || 'Implementando sugerencia...', 'info');
            
            setTimeout(() => {
                showNotification('Sugerencia implementada correctamente', 'success');
            }, 2000);
        }
        
        function updateAILevel() {
            aiSettings.level = document.getElementById('aiLevel').value;
            saveAISettings();
            showNotification('Nivel de IA actualizado', 'success');
        }
        
        function updateAnalysisFrequency() {
            aiSettings.frequency = document.getElementById('analysisFrequency').value;
            saveAISettings();
            showNotification('Frecuencia de análisis actualizada', 'success');
        }
        
        function updateOptimizationGoals() {
            aiSettings.goals.revenue = document.getElementById('optimizeRevenue').checked;
            aiSettings.goals.efficiency = document.getElementById('optimizeEfficiency').checked;
            aiSettings.goals.satisfaction = document.getElementById('optimizeSatisfaction').checked;
            saveAISettings();
            showNotification('Objetivos de optimización actualizados', 'success');
        }
        
        function updateAINotifications() {
            aiSettings.notifications.insights = document.getElementById('aiInsights').checked;
            aiSettings.notifications.recommendations = document.getElementById('aiRecommendations').checked;
            aiSettings.notifications.alerts = document.getElementById('aiAlerts').checked;
            saveAISettings();
            showNotification('Notificaciones de IA actualizadas', 'success');
        }
        
        function saveAISettings() {
            localStorage.setItem('aiSettings', JSON.stringify(aiSettings));
        }
        
        function showLoading(elementId, message) {
            const element = document.getElementById(elementId);
            element.innerHTML = `
                <div style="text-align: center;">
                    <div class="loading-spinner" style="margin-bottom: 1rem;"></div>
                    <div>${message}</div>
                </div>
            `;
        }
        
        function showNotification(message, type = 'success') {
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            notification.textContent = message;
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.classList.add('show');
            }, 100);
            
            setTimeout(() => {
                notification.classList.remove('show');
                setTimeout(() => {
                    notification.remove();
                }, 300);
            }, 3000);
        }
        
        // Funciones de navegación
        function viewPatterns() { showNotification('Abriendo vista de patrones...', 'info'); }
        function viewOptimization() { showNotification('Abriendo vista de optimización...', 'info'); }
        function viewPredictions() { showNotification('Abriendo vista de predicciones...', 'info'); }
        function viewPricing() { showNotification('Abriendo vista de precios...', 'info'); }
        function viewSegments() { showNotification('Abriendo vista de segmentos...', 'info'); }
    </script>
</body>
</html>

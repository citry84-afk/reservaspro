<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üîî Notificaciones - ReservasPro</title>
    <script src="../js/notifications.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: system-ui; background: #f8fafc; }
        .header { background: white; padding: 1rem; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
        .header h1 { color: #1e40af; }
        .container { max-width: 1000px; margin: 0 auto; padding: 2rem; }
        .hero { background: linear-gradient(135deg, #1e40af, #3b82f6); color: white; padding: 3rem; border-radius: 12px; text-align: center; margin-bottom: 2rem; }
        .hero h1 { font-size: 2.5rem; margin-bottom: 1rem; }
        .card { background: white; border-radius: 12px; padding: 2rem; margin-bottom: 2rem; box-shadow: 0 2px 8px rgba(0,0,0,0.1); }
        .btn { background: #10b981; color: white; border: none; padding: 1rem 2rem; border-radius: 8px; cursor: pointer; margin: 0.5rem; }
        .btn-test { background: #d97706; }
        .form-group { margin-bottom: 1.5rem; }
        .form-group label { display: block; margin-bottom: 0.5rem; color: #374151; font-weight: 500; }
        .form-group select, .form-group textarea { width: 100%; padding: 0.75rem; border: 2px solid #e2e8f0; border-radius: 8px; }
    </style>
</head>
<body>
    <div class="header">
        <div class="container">
            <h1>üîî Notificaciones</h1>
            <a href="index.html">‚Üê Dashboard</a>
        </div>
    </div>
    
    <div class="container">
        <div class="hero">
            <h1>üîî Sistema de Notificaciones</h1>
            <p>Configura recordatorios autom√°ticos y confirmaciones</p>
        </div>
        
        <div class="card">
            <h3>üì± Recordatorios</h3>
            <div class="form-group">
                <label for="reminder24h">Recordatorio 24h antes</label>
                <select id="reminder24h">
                    <option value="off">Desactivado</option>
                    <option value="email">Solo Email</option>
                    <option value="whatsapp" selected>Solo WhatsApp</option>
                    <option value="all">Todos</option>
                </select>
            </div>
            <div class="form-group">
                <label for="reminder2h">Recordatorio 2h antes</label>
                <select id="reminder2h">
                    <option value="off">Desactivado</option>
                    <option value="email">Solo Email</option>
                    <option value="whatsapp" selected>Solo WhatsApp</option>
                    <option value="all">Todos</option>
                </select>
            </div>
        </div>
        
        <div class="card">
            <h3>üìù Templates</h3>
            <div class="form-group">
                <label for="template24h">Mensaje 24h</label>
                <textarea id="template24h" rows="3">Hola {cliente}, te recordamos tu cita ma√±ana a las {hora}. ¬°Te esperamos!</textarea>
            </div>
            <div class="form-group">
                <label for="template2h">Mensaje 2h</label>
                <textarea id="template2h" rows="3">Tu cita es en 2 horas ({hora}). ¬°No olvides venir!</textarea>
            </div>
        </div>
        
        <div class="card">
            <button class="btn" onclick="saveNotifications()">üíæ Guardar</button>
            <button class="btn btn-test" onclick="testNotifications()">üß™ Probar</button>
        </div>
    </div>

    <script>
        function saveNotifications() {
            const config = {
                reminder24h: document.getElementById('reminder24h').value,
                reminder2h: document.getElementById('reminder2h').value,
                templates: {
                    reminder24h: document.getElementById('template24h').value,
                    reminder2h: document.getElementById('template2h').value
                }
            };
            localStorage.setItem('businessNotifications', JSON.stringify(config));
            alert('‚úÖ Configuraci√≥n guardada');
        }
        
        function testNotifications() {
            if (window.notificationManager) {
                window.notificationManager.testNotification('confirmation', 'email');
                alert('üß™ Prueba enviada - revisa la consola (F12)');
            } else {
                alert('‚ö†Ô∏è Sistema de notificaciones no disponible');
            }
        }
        
        // Cargar configuraci√≥n
        document.addEventListener('DOMContentLoaded', function() {
            const config = JSON.parse(localStorage.getItem('businessNotifications') || '{}');
            if (config.reminder24h) document.getElementById('reminder24h').value = config.reminder24h;
            if (config.reminder2h) document.getElementById('reminder2h').value = config.reminder2h;
            if (config.templates) {
                if (config.templates.reminder24h) document.getElementById('template24h').value = config.templates.reminder24h;
                if (config.templates.reminder2h) document.getElementById('template2h').value = config.templates.reminder2h;
            }
        });
    </script>
</body>
</html>
